<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Self Insight Test</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- INTRO SCREEN -->
  <div id="intro-screen" class="intro-screen">
    <div class="intro-content">
      <h1>Welcome üå∏</h1>
      <p>Take a deep breath‚Ä¶</p>
      <p>This test is designed to help you understand yourself better ‚Äî your emotions, growth, and resilience.</p>
      <button id="start-test-btn" class="btn primary">Start the Test</button>
    </div>
  </div>

  <!-- MAIN APP (hidden until start) -->
  <div id="app-container" class="app-container hidden">

    <!-- Header -->
    <header>
      <h1>üß† Self Insight & Growth Test</h1>
      <p class="privacy-note">
        ‚ö†Ô∏è Think calmly before you answer. This test helps you know yourself better.  
        No data is stored ‚Äî only <b>you</b> can see your result.
      </p>
    </header>

    <!-- Name + Language -->
    <div class="input-row">
      <label for="user-name">Your name:</label>
      <input id="user-name" type="text" placeholder="Type your name" />
      <label for="lang-select">Language:</label>
      <select id="lang-select">
        <option value="en">English</option>
        <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
        <option value="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</option>
      </select>
    </div>

    <!-- Category Title -->
    <h2 id="category-title" class="category-title"></h2>

    <!-- Question -->
    <div id="question-box" class="question-box">
      <p id="question-text">Loading question...</p>
    </div>

    <!-- Slider -->
    <div class="slider-container">
      <label for="response-slider" class="slider-label">Your Response</label>
      <input id="response-slider" type="range" min="1" max="6" step="1" value="3" />
      <div class="slider-labels">
        <span>Never</span>
        <span>Rarely</span>
        <span>Sometimes</span>
        <span>Often</span>
        <span>Mostly</span>
        <span>Always</span>
      </div>
      <p class="slider-note">‚ö†Ô∏è Think carefully ‚Äî this helps you understand and improve. No data is stored.</p>
    </div>

    <!-- Progress -->
    <div class="progress-container">
      <div id="progress-bar" class="progress-bar" style="width:0%"></div>
    </div>

    <!-- Controls -->
    <div class="controls">
      <button id="skip-btn" class="btn warning">‚è≠Ô∏è Skip Category</button>
      <button id="exit-btn" class="btn danger">‚ùå End Test</button>
      <button id="next-btn" class="btn primary">Next ‚û°Ô∏è</button>
    </div>

    <!-- Results (populated by app.js) -->
    <div id="results" class="results hidden"></div>

  </div>

  <!-- Confirmation Modal (IDs must match app.js) -->
  <div id="confirmModal" class="modal hidden">
    <div class="modal-content">
      <h3 id="modalTitle">Confirm</h3>
      <p id="modalMessage">Are you sure?</p>
      <div class="modal-actions">
        <button id="cancelModal" class="btn secondary">Cancel</button>
        <button id="confirmModalBtn" class="btn primary">Yes</button>
      </div>
    </div>
  </div>

  <!-- Your reports and app scripts -->
  <script src="reports.js"></script>
  <script src="app.js"></script>

  <!-- Safe: ensure Start button works (runs after app.js loaded) -->
  <script>
    (function () {
      const startBtn = document.getElementById('start-test-btn');
      const intro = document.getElementById('intro-screen');
      const app = document.getElementById('app-container');
      startBtn && startBtn.addEventListener('click', () => {
        intro.classList.add('fade-out');
        setTimeout(() => {
          intro.style.display = 'none';
          app.classList.remove('hidden');
          // optional: kick off the first question if app.js expects it
          if (typeof loadQuestion === 'function') loadQuestion();
        }, 450);
      });
      // optional fade-out style appended if not in CSS
      const style = document.createElement('style');
      style.innerHTML = `.fade-out{animation:fadeOut .45s forwards}@keyframes fadeOut{from{opacity:1}to{opacity:0}}`;
      document.head.appendChild(style);
    })();
  </script>
</body>
</html>
