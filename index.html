<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mind Insight Pro - Psychometric Assessment</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Animated Background -->
    <div class="background-animation">
        <div class="gradient-circle circle-1"></div>
        <div class="gradient-circle circle-2"></div>
        <div class="gradient-circle circle-3"></div>
    </div>

    <!-- Global Language Selector -->
    <div class="global-language-selector">
        <button class="language-toggle" id="languageToggle">
            <span class="current-language">üá∫üá∏</span>
            <svg class="chevron" viewBox="0 0 24 24" fill="none">
                <path d="M6 9L12 15L18 9" stroke="currentColor" stroke-width="2"/>
            </svg>
        </button>
        <div class="language-dropdown" id="languageDropdown">
            <button class="lang-option" data-lang="en">
                <span class="lang-flag">üá∫üá∏</span>
                <span class="lang-name">English</span>
            </button>
            <button class="lang-option" data-lang="hi">
                <span class="lang-flag">üáÆüá≥</span>
                <span class="lang-name">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</span>
            </button>
            <button class="lang-option" data-lang="bn">
                <span class="lang-flag">üáßüá©</span>
                <span class="lang-name">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</span>
            </button>
        </div>
    </div>

    <!-- Analysis Screen (Hidden initially) -->
    <div id="analysisScreen" class="analysis-screen" style="display: none;">
        <div class="analyzing-animation">
            <div class="brain-pulse">üß†</div>
            <h2>Analyzing Your Responses</h2>
            <p>We're carefully reviewing your answers to create personalized insights...</p>
            <div class="progress-dots">
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
            </div>
            <div class="analysis-steps">
                <div class="step" data-step="1">Processing emotional patterns</div>
                <div class="step" data-step="2">Evaluating resilience factors</div>
                <div class="step" data-step="3">Assessing growth mindset</div>
                <div class="step" data-step="4">Compiling insights</div>
            </div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <div class="logo">
                    <span class="logo-icon">üß†</span>
                    <span class="logo-text">MindInsight</span>
                </div>
                <div class="progress-indicator" id="progressIndicator">
                    <div class="progress-dots"></div>
                </div>
            </div>
        </header>

        <!-- Intro Screen -->
        <div id="introScreen" class="screen active">
            <div class="screen-content">
                <div class="hero-section">
                    <div class="hero-icon">üåü</div>
                    <h1 class="hero-title">Discover Your <span class="gradient-text">Mind</span></h1>
                    <p class="hero-subtitle">Unlock your psychological potential with our comprehensive assessment</p>
                </div>

                <!-- Compact Language Selector -->
                <div class="language-section compact">
                    <div class="language-label">Choose Language:</div>
                    <div class="language-buttons">
                        <button class="language-btn active" data-lang="en">üá∫üá∏ English</button>
                        <button class="language-btn" data-lang="hi">üáÆüá≥ ‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</button>
                        <button class="language-btn" data-lang="bn">üáßüá© ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</button>
                    </div>
                </div>

                <!-- User Info Form -->
                <div class="form-section">
                    <div class="form-grid">
                        <div class="input-group">
                            <label>Full Name</label>
                            <input type="text" id="userName" placeholder="Enter your name" class="modern-input">
                        </div>
                        <div class="input-group">
                            <label>Age</label>
                            <input type="number" id="userAge" placeholder="Your age" class="modern-input">
                        </div>
                        <div class="input-group">
                            <label>Gender</label>
                            <select id="userGender" class="modern-select">
                                <option value="">Select Gender</option>
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                                <option value="other">Other</option>
                                <option value="prefer-not-to-say">Prefer not to say</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>Occupation</label>
                            <select id="userOccupation" class="modern-select">
                                <option value="">Select Occupation</option>
                                <option value="student">Student</option>
                                <option value="employed">Employed</option>
                                <option value="self-employed">Self-Employed</option>
                                <option value="unemployed">Unemployed</option>
                                <option value="retired">Retired</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Start Button -->
                <div class="action-section">
                    <button id="startBtn" class="cta-button">
                        <span>Begin Assessment</span>
                        <svg class="button-icon" viewBox="0 0 24 24" fill="none">
                            <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2"/>
                        </svg>
                    </button>
                </div>

                <!-- Privacy Notice -->
                <div class="privacy-notice">
                    <p><strong>Privacy Notice:</strong> Your responses are automatically saved for research and analytics purposes. All data is anonymized and used only to improve the assessment quality.</p>
                </div>
            </div>
        </div>

        <!-- Question Screen -->
        <div id="questionScreen" class="screen">
            <div class="screen-content">
                <!-- Question Header -->
                <div class="question-header">
                    <div class="category-tag" id="currentCategoryBadge">Emotional</div>
                    <h2 class="question-category" id="currentCategory">Self-Awareness</h2>
                    <div class="question-progress">
                        <span id="currentQuestionNumber">1</span> of <span id="totalQuestions">10</span>
                    </div>
                </div>

                <!-- Question Card -->
                <div class="question-card">
                    <div class="question-text" id="questionText">
                        I can accurately identify my emotions as I experience them.
                    </div>
                    
                    <!-- Answers Grid -->
                    <div class="answers-grid">
                        <div class="answer-option">
                            <input type="radio" id="option1" name="answer" value="1" class="answer-input">
                            <label for="option1" class="answer-label">
                                <span class="answer-emoji">üò†</span>
                                <span class="answer-text">Strongly Disagree</span>
                            </label>
                        </div>
                        <div class="answer-option">
                            <input type="radio" id="option2" name="answer" value="2" class="answer-input">
                            <label for="option2" class="answer-label">
                                <span class="answer-emoji">üòï</span>
                                <span class="answer-text">Disagree</span>
                            </label>
                        </div>
                        <div class="answer-option">
                            <input type="radio" id="option3" name="answer" value="3" class="answer-input">
                            <label for="option3" class="answer-label">
                                <span class="answer-emoji">üòê</span>
                                <span class="answer-text">Neutral</span>
                            </label>
                        </div>
                        <div class="answer-option">
                            <input type="radio" id="option4" name="answer" value="4" class="answer-input">
                            <label for="option4" class="answer-label">
                                <span class="answer-emoji">üôÇ</span>
                                <span class="answer-text">Agree</span>
                            </label>
                        </div>
                        <div class="answer-option">
                            <input type="radio" id="option5" name="answer" value="5" class="answer-input">
                            <label for="option5" class="answer-label">
                                <span class="answer-emoji">üòÑ</span>
                                <span class="answer-text">Strongly Agree</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Progress Bar -->
                <div class="progress-section">
                    <div class="progress-info">
                        <span>Assessment Progress</span>
                        <span id="progressPercentage">0%</span>
                    </div>
                    <div class="modern-progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                </div>

                <!-- Navigation -->
                <div class="navigation-section">
                    <button id="backBtn" class="nav-button secondary">
                        <svg class="nav-icon" viewBox="0 0 24 24" fill="none">
                            <path d="M19 12H5M5 12L12 19M5 12L12 5" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        Previous
                    </button>
                    <button id="skipBtn" class="nav-button secondary">Skip</button>
                    <button id="nextBtn" class="nav-button primary">
                        Next Question
                        <svg class="nav-icon" viewBox="0 0 24 24" fill="none">
                            <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Analytics Screen -->
        <div id="analyticsScreen" class="screen">
            <div class="screen-content">
                <div class="results-header">
                    <h1>Your <span class="gradient-text">Insights</span></h1>
                    <p>Detailed analysis of your psychological profile</p>
                </div>
                
                <div class="analytics-grid" id="analyticsGrid">
                    <!-- Analytics will be populated here -->
                </div>
                
                <div class="action-section">
                    <button id="viewReportsBtn" class="cta-button">View Detailed Reports</button>
                </div>
            </div>
        </div>

        <!-- Result Screen -->
        <div id="resultScreen" class="screen">
            <div class="screen-content">
                <!-- Interactive Reports Container -->
                <div id="reportsContainer">
                    <!-- Interactive cards will be populated here -->
                </div>
                
                <div class="action-section">
                    <button id="restartBtn" class="action-button secondary">Take Again</button>
                    <button id="viewAnalyticsBtn" class="action-button primary">View Analytics</button>
                </div>
            </div>
        </div>
    </div>

   <!-- Interactive Report Card Template -->
<template id="interactiveReportCardTemplate">
    <div class="report-card interactive-card">
        <!-- Card Header - Fixed -->
        <div class="card-header">
            <div class="category-display">
                <span class="category-icon">üíñ</span>
                <div class="category-info">
                    <h3 class="category-title">Category Intelligence</h3>
                    <div class="level-badge">Level</div>
                </div>
            </div>
            <div class="score-display">
                <div class="score-ring">
                    <span class="score-value">0.0</span>
                </div>
            </div>
        </div>

        <!-- Expandable Sections Container -->
        <div class="expandable-sections">
            <!-- Strengths Section -->
            <div class="section strength-section" data-expanded="true">
                <div class="section-header">
                    <div class="section-title">
                        <span class="section-icon">üìà</span>
                        <h4>Your Strengths</h4>
                        <span class="strength-count">0</span>
                    </div>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="section-content">
                    <div class="strengths-list">
                        <!-- Strengths will be populated dynamically -->
                    </div>
                </div>
            </div>

            <!-- Growth Areas Section -->
            <div class="section growth-section" data-expanded="false">
                <div class="section-header">
                    <div class="section-title">
                        <span class="section-icon">üå±</span>
                        <h4>Growth Opportunities</h4>
                        <span class="growth-count">0</span>
                    </div>
                    <span class="expand-icon">‚ñ∂</span>
                </div>
                <div class="section-content">
                    <div class="growth-list">
                        <!-- Growth areas will be populated dynamically -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Card Footer Actions -->
        <div class="card-actions">
            <button class="action-btn secondary">
                <span class="btn-icon">üíæ</span>
                Save Report
            </button>
            <button class="action-btn primary">
                <span class="btn-icon">üì§</span>
                Share Insights
            </button>
            <button class="action-btn tertiary view-details">
                <span class="btn-icon">üîç</span>
                Full Analysis
            </button>
        </div>
    </div>
</template>
    <!-- Report Modal -->
    <div id="reportModal" class="report-modal"></div>

    <!-- JavaScript Files -->
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="js/firebase-config.js"></script>
<script src="js/questions.js"></script>
<script src="js/scoring.js"></script>
<script src="js/storage.js"></script>
<script src="js/analytics.js"></script>
<script src="js/app.js"></script>
</body>
</html>